<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Boi Pose | Detección por video</title>
    <link rel="stylesheet" href="../static/styles/video-detection.css">
    <link rel="stylesheet" href="../static/styles/header.css">
    <link rel="stylesheet" href="../static/styles/sidebar.css">
</head>
<body>
{% extends "navegacion.html" %}

    {% block content %}
    <div class="container_main">
        <h1>Detección de Comportamientos Sospechosos</h1>
         <div class="row">
            <div class="col-md-12 text-center my-4">
                <h1>Detector de Comportamientos Sospechosos</h1>
                <p class="lead">Sube un video para detectar comportamientos sospechosos previos a robos o agresiones.</p>
            </div>
        </div>

        <div class="row">
            <div class="col-md-8 offset-md-2">
                <!-- Área de subida de video -->
                <div class="upload-area" id="uploadArea">
                    <div class="mb-3">
                        <i class="bi bi-cloud-arrow-up" style="font-size: 3rem;"></i>
                        <h4>Arrastra y suelta tu video aquí</h4>
                        <p>O haz clic para seleccionar un archivo</p>
                        <input type="file" id="videoInput" class="d-none" accept="video/*">
                    </div>
                </div>

                <!-- Vista previa del video -->
                <div id="previewContainer" class="text-center" style="display:none;">
                    <h4>Vista previa</h4>
                    <video id="preview-video" controls></video>
                    <div class="mt-3">
                        <button id="processBtn" class="btn btn-primary">Procesar video</button>
                        <button id="cancelBtn" class="btn btn-secondary ms-2">Cancelar</button>
                    </div>
                </div>

                <!-- Barra de progreso -->
                <div class="progress-container" id="progressContainer">
                    <h4>Procesando video...</h4>
                    <div class="progress">
                        <div class="progress-bar progress-bar-striped progress-bar-animated"
                             role="progressbar" style="width: 0%"></div>
                    </div>
                    <p class="text-center mt-2">Por favor espera mientras analizamos el video. Este proceso puede tomar varios minutos dependiendo del tamaño del video.</p>
                </div>
            </div>
        </div>
    </div>
    {% endblock %}
    {% block scripts %}
    <script src="{{ url_for('static', filename='scripts/video-detection.js') }}"></script>
    <script src="{{ url_for('static', filename='scripts/navegacion.js') }}"></script>
    {% endblock %}
</body>
</html>